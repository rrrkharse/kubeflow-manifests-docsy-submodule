<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.80.0" />
<meta name="robots" content="index, follow">

<script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "WebSite",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "\/"
      },
      "articleSection" : "docs",
      "name" : "CloudWatch",
      "headline" : "CloudWatch",
      "description" : "Set up CloudWatch ContainerInsights on Amazon EKS",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "0001",
      "datePublished": "0001-01-01 00:00:00 \u002b0000 UTC",
      "dateModified" : "0001-01-01 00:00:00 \u002b0000 UTC",
      "url" : "\/docs\/deployment\/install\/add-ons\/cloudwatch\/guide\/",
      "wordCount" : "335",
      "keywords" : [ "Kubeflow" ]
  }
  </script>

<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="manifest" href="/favicons/manifest.json">
<meta name="msapplication-config" content="/favicons/browserconfig.xml" />
<meta name="msapplication-TileColor" content="#4279f4">
<meta name="theme-color" content="#4279f4">

<title>CloudWatch | Kubeflow on AWS</title>
<meta name="description" content="Set up CloudWatch ContainerInsights on Amazon EKS">
<meta property="og:title" content="CloudWatch" />
<meta property="og:description" content="Set up CloudWatch ContainerInsights on Amazon EKS" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/deployment/install/add-ons/cloudwatch/guide/" />
<meta property="article:modified_time" content="2022-04-19T18:52:20-07:00" /><meta property="og:site_name" content="Kubeflow on AWS" />
<meta itemprop="name" content="CloudWatch">
<meta itemprop="description" content="Set up CloudWatch ContainerInsights on Amazon EKS">
<meta itemprop="dateModified" content="2022-04-19T18:52:20-07:00" />
<meta itemprop="wordCount" content="335">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CloudWatch"/>
<meta name="twitter:description" content="Set up CloudWatch ContainerInsights on Amazon EKS"/>




<link rel="preload" href="/scss/main.min.85f1a9dbca421adb85ef71deab25ace09331a89d47e3aafe98fe498adc786a6d.css" as="style">
<link href="/scss/main.min.85f1a9dbca421adb85ef71deab25ace09331a89d47e3aafe98fe498adc786a6d.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-135379910-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand-md navbar-dark  td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"></span><span class="text-uppercase font-weight-bold">Kubeflow on AWS</span>
	</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_navbar" aria-controls="main_navbar" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse ml-md-auto" id="main_navbar">
		<ul class="navbar-nav ml-auto pt-4 pt-md-0 my-2 my-md-1">
			
			
			<li class="nav-item mr-2 mr-lg-4 mt-1 mt-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/docs/" ><i class='fas fa-book pr-2'></i><span>Documentation</span></a>
			</li>
			
			<li class="nav-item mr-2 mr-lg-4 mt-1 mt-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/awslabs/kubeflow-manifests" target="_blank" ><i class='fab fa-github pr-2'></i><span>GitHub</span></a>
			</li>
			
			
			<li class="nav-item dropdown mt-1 mt-lg-0 mr-2">
				<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Releases
</a>
<div class="dropdown-menu dropdown-menu-md-right dropdown-menu-lg-left" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://awslabs.github.io/kubeflow-manifests/docs">1.4</a>
	
</div>

			</li>
			
			
		</ul>
	</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav foldable-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsabout-li">
  <input type="checkbox" id="m-docsabout-check"/>
  <label for="m-docsabout-check"><a href="/docs/about/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-docsabout"><span class="">About</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsaboutfeatures-li">
  <input type="checkbox" id="m-docsaboutfeatures-check"/>
  <label for="m-docsaboutfeatures-check"><a href="/docs/about/features/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsaboutfeatures"><span class="">AWS Features for Kubeflow</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsaboutreleases-li">
  <input type="checkbox" id="m-docsaboutreleases-check"/>
  <label for="m-docsaboutreleases-check"><a href="/docs/about/releases/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsaboutreleases"><span class="">Releases and Versioning</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsabouteks-compatibility-li">
  <input type="checkbox" id="m-docsabouteks-compatibility-check"/>
  <label for="m-docsabouteks-compatibility-check"><a href="/docs/about/eks-compatibility/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsabouteks-compatibility"><span class="">Amazon EKS and Kubeflow Compatibility</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsaboutsecurity-li">
  <input type="checkbox" id="m-docsaboutsecurity-check"/>
  <label for="m-docsaboutsecurity-check"><a href="/docs/about/security/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsaboutsecurity"><span class="">Security</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsaboutusage-tracking-li">
  <input type="checkbox" id="m-docsaboutusage-tracking-check"/>
  <label for="m-docsaboutusage-tracking-check"><a href="/docs/about/usage-tracking/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsaboutusage-tracking"><span class="">Usage Tracking</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsdeployment-li">
  <input type="checkbox" id="m-docsdeployment-check" checked/>
  <label for="m-docsdeployment-check"><a href="/docs/deployment/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-docsdeployment"><span class="">Deployment</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsdeploymentinstall-li">
  <input type="checkbox" id="m-docsdeploymentinstall-check" checked/>
  <label for="m-docsdeploymentinstall-check"><a href="/docs/deployment/install/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-docsdeploymentinstall"><span class="">Install Kubeflow</span></a></label>
  
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallprerequisites-li">
  <input type="checkbox" id="m-docsdeploymentinstallprerequisites-check"/>
  <label for="m-docsdeploymentinstallprerequisites-check"><a href="/docs/deployment/install/prerequisites/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallprerequisites"><span class="">Prerequisites</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallcognitoguide-li">
  <input type="checkbox" id="m-docsdeploymentinstallcognitoguide-check"/>
  <label for="m-docsdeploymentinstallcognitoguide-check"><a href="/docs/deployment/install/cognito/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallcognitoguide"><span class="">Cognito</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallrds-s3guide-li">
  <input type="checkbox" id="m-docsdeploymentinstallrds-s3guide-check"/>
  <label for="m-docsdeploymentinstallrds-s3guide-check"><a href="/docs/deployment/install/rds-s3/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallrds-s3guide"><span class="">RDS and S3</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallcognito-rds-s3guide-li">
  <input type="checkbox" id="m-docsdeploymentinstallcognito-rds-s3guide-check"/>
  <label for="m-docsdeploymentinstallcognito-rds-s3guide-check"><a href="/docs/deployment/install/cognito-rds-s3/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallcognito-rds-s3guide"><span class="">Cognito, RDS, and S3</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallvanillaguide-li">
  <input type="checkbox" id="m-docsdeploymentinstallvanillaguide-check"/>
  <label for="m-docsdeploymentinstallvanillaguide-check"><a href="/docs/deployment/install/vanilla/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallvanillaguide"><span class="">Vanilla Installation</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docsdeploymentinstalladd-ons-li">
  <input type="checkbox" id="m-docsdeploymentinstalladd-ons-check" checked/>
  <label for="m-docsdeploymentinstalladd-ons-check"><a href="/docs/deployment/install/add-ons/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-docsdeploymentinstalladd-ons"><span class="">Add-ons</span></a></label>
  
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstalladd-onsstorageefsguide-li">
  <input type="checkbox" id="m-docsdeploymentinstalladd-onsstorageefsguide-check"/>
  <label for="m-docsdeploymentinstalladd-onsstorageefsguide-check"><a href="/docs/deployment/install/add-ons/storage/efs/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstalladd-onsstorageefsguide"><span class="">EFS</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstalladd-onsstoragefsx-for-lustreguide-li">
  <input type="checkbox" id="m-docsdeploymentinstalladd-onsstoragefsx-for-lustreguide-check"/>
  <label for="m-docsdeploymentinstalladd-onsstoragefsx-for-lustreguide-check"><a href="/docs/deployment/install/add-ons/storage/fsx-for-lustre/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstalladd-onsstoragefsx-for-lustreguide"><span class="">FSx for Lustre</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docsdeploymentinstalladd-onscloudwatchguide-li">
  <input type="checkbox" id="m-docsdeploymentinstalladd-onscloudwatchguide-check" checked/>
  <label for="m-docsdeploymentinstalladd-onscloudwatchguide-check"><a href="/docs/deployment/install/add-ons/cloudwatch/guide/" class="align-left pl-0  active td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstalladd-onscloudwatchguide"><span class="td-sidebar-nav-active-item">CloudWatch</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstalladd-onsload-balancerguide-li">
  <input type="checkbox" id="m-docsdeploymentinstalladd-onsload-balancerguide-check"/>
  <label for="m-docsdeploymentinstalladd-onsload-balancerguide-check"><a href="/docs/deployment/install/add-ons/load-balancer/guide/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstalladd-onsload-balancerguide"><span class="">Load Balancer</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentinstallcognitoreadme-automated-li">
  <input type="checkbox" id="m-docsdeploymentinstallcognitoreadme-automated-check"/>
  <label for="m-docsdeploymentinstallcognitoreadme-automated-check"><a href="/docs/deployment/install/cognito/readme-automated/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentinstallcognitoreadme-automated"><span class=""></span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsdeploymentuninstall-kubeflow-li">
  <input type="checkbox" id="m-docsdeploymentuninstall-kubeflow-check"/>
  <label for="m-docsdeploymentuninstall-kubeflow-check"><a href="/docs/deployment/uninstall-kubeflow/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docsdeploymentuninstall-kubeflow"><span class="">Uninstall Kubeflow</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docscomponent-guides-li">
  <input type="checkbox" id="m-docscomponent-guides-check"/>
  <label for="m-docscomponent-guides-check"><a href="/docs/component-guides/" class="align-left pl-0  td-sidebar-link td-sidebar-link__section" id="m-docscomponent-guides"><span class="">Component Guides</span></a></label>
  
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscomponent-guidesnotebooks-li">
  <input type="checkbox" id="m-docscomponent-guidesnotebooks-check"/>
  <label for="m-docscomponent-guidesnotebooks-check"><a href="/docs/component-guides/notebooks/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docscomponent-guidesnotebooks"><span class="">Notebooks</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscomponent-guidespipelines-li">
  <input type="checkbox" id="m-docscomponent-guidespipelines-check"/>
  <label for="m-docscomponent-guidespipelines-check"><a href="/docs/component-guides/pipelines/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docscomponent-guidespipelines"><span class="">Pipelines</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscomponent-guideskserve-li">
  <input type="checkbox" id="m-docscomponent-guideskserve-check"/>
  <label for="m-docscomponent-guideskserve-check"><a href="/docs/component-guides/kserve/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docscomponent-guideskserve"><span class="">KServe</span></a></label>
  
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscomponent-guidesprofiles-li">
  <input type="checkbox" id="m-docscomponent-guidesprofiles-check"/>
  <label for="m-docscomponent-guidesprofiles-check"><a href="/docs/component-guides/profiles/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docscomponent-guidesprofiles"><span class="">Profiles</span></a></label>
  
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docstroubleshooting-aws-li">
  <input type="checkbox" id="m-docstroubleshooting-aws-check"/>
  <label for="m-docstroubleshooting-aws-check"><a href="/docs/troubleshooting-aws/" class="align-left pl-0  td-sidebar-link td-sidebar-link__page" id="m-docstroubleshooting-aws"><span class="">Troubleshooting</span></a></label>
  
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/awslabs/kubeflow-manifests/docs/tree/master/content/en/docs/deployment/install/add-ons/cloudwatch/guide.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> View page source</a>
  <a href="https://github.com/awslabs/kubeflow-manifests/docs/edit/master/content/en/docs/deployment/install/add-ons/cloudwatch/guide.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
  <a href="https://github.com/awslabs/kubeflow-manifests/docs/new/master/content/en/docs/deployment/install/add-ons/cloudwatch/guide.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Create child page</a>
  <a href="https://github.com/awslabs/kubeflow-manifests/docs/issues/new?title=CloudWatch" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/awslabs/kubeflow-manifests/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
  
</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li><a href="#verify-prerequisites">Verify Prerequisites</a></li>
    <li><a href="#install">Install</a></li>
    <li><a href="#uninstall">Uninstall</a></li>
    <li><a href="#additional-information">Additional Information</a></li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item">
    <a href="/docs/deployment/">Deployment</a>
  </li>
  <li class="breadcrumb-item">
    <a href="/docs/deployment/install/">Install Kubeflow</a>
  </li>
  <li class="breadcrumb-item">
    <a href="/docs/deployment/install/add-ons/">Add-ons</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="/docs/deployment/install/add-ons/cloudwatch/guide/">CloudWatch</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>CloudWatch</h1>
	<div class="lead">Set up CloudWatch ContainerInsights on Amazon EKS</div>
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>    
	<h2 id="verify-prerequisites">Verify Prerequisites</h2>
<p>The EKS  Cluster will need IAM service account roles associated with CloudWatchAgentServerPolicy attached.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">export CLUSTER_NAME=&lt;&gt;
export CLUSTER_REGION=&lt;&gt;

eksctl utils associate-iam-oidc-provider --region=$CLUSTER_REGION --cluster=$CLUSTER_NAME --approve
eksctl create iamserviceaccount --name cloudwatch-agent --namespace amazon-cloudwatch --cluster $CLUSTER_NAME --region $CLUSTER_REGION cloudwatch-agent --approve --override-existing-serviceaccounts --attach-policy-arn arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy
eksctl create iamserviceaccount --name fluent-bit --namespace amazon-cloudwatch --cluster $CLUSTER_NAME --region $CLUSTER_REGION --approve --override-existing-serviceaccounts --attach-policy-arn arn:aws:iam::aws:policy/CloudWatchAgentServerPolicy
</code></pre></div><h2 id="install">Install</h2>
<p>To install an optimized quick start configuration enter the following command.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">FluentBitHttpPort=&#39;2020&#39;
FluentBitReadFromHead=&#39;Off&#39;
[[ ${FluentBitReadFromHead} = &#39;On&#39; ]] &amp;&amp; FluentBitReadFromTail=&#39;Off&#39;|| FluentBitReadFromTail=&#39;On&#39;
[[ -z ${FluentBitHttpPort} ]] &amp;&amp; FluentBitHttpServer=&#39;Off&#39; || FluentBitHttpServer=&#39;On&#39;
curl https://raw.githubusercontent.com/aws-samples/amazon-cloudwatch-container-insights/latest/k8s-deployment-manifest-templates/deployment-mode/daemonset/container-insights-monitoring/quickstart/cwagent-fluent-bit-quickstart.yaml | sed &#39;s/{{cluster_name}}/&#39;${CLUSTER_NAME}&#39;/;s/{{region_name}}/&#39;${CLUSTER_REGION}&#39;/;s/{{http_server_toggle}}/&#34;&#39;${FluentBitHttpServer}&#39;&#34;/;s/{{http_server_port}}/&#34;&#39;${FluentBitHttpPort}&#39;&#34;/;s/{{read_from_head}}/&#34;&#39;${FluentBitReadFromHead}&#39;&#34;/;s/{{read_from_tail}}/&#34;&#39;${FluentBitReadFromTail}&#39;&#34;/&#39; | kubectl apply -f - 
</code></pre></div><p>To verify the installation you can run the following command to see that metrics have been created. Note that it may take up to 15 minutes for the metrics to populate.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">aws cloudwatch list-metrics --namespace ContainerInsights --region $CLUSTER_REGION
</code></pre></div><p>An example of the logs which will be available after installation are the logs of the pods on your cluster. This way the pod logs can still be accessed past their default storage time. Also allows for an easy way to view logs for all pods on your cluster without having to directly connect to your EKS cluster.</p>
<p>The logs can be accessed by through CloudWatch log groups <img src="./images/cloudwatch-logs.png" alt="cloudwatch"></p>
<p>To view individual pod logs select /aws/containerinsights/YOUR_CLUSTER_NAME/application <img src="./images/cloudwatch-application-logs.png" alt="application"></p>
<p>Here is an example of the jupyter-web-app pods logs available through CloudWatch <img src="./images/cloudwatch-pod-logs.png" alt="jupyter-logs"></p>
<p>An example of the metrics that will be available after installation are pod_network_tx_bytes. The full list of metrics that are provided by default can be found <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Container-Insights-metrics-EKS.html">here</a></p>
<p>The metrics are grouped by varying different parameters such as Cluster,Namespace,PodName
<img src="./images/cloudwatch-metrics.png" alt="cloudwatch-metrics"></p>
<p>An example of the graphed metrics for the istio-system namespace which deals with internet traffic
<img src="./images/cloudwatch-namespace-metrics.png" alt="cloudwatch-namespace-metrics"></p>
<p>The following guide provides instructions on viewing CloudWatch metrics <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/viewing_metrics_with_cloudwatch.html">https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/viewing_metrics_with_cloudwatch.html</a> the metric namespace to select is ContainerInsights</p>
<p>You can see the full list of logs and metrics through <a href="https://console.aws.amazon.com/cloudwatch/">https://console.aws.amazon.com/cloudwatch/</a></p>
<h2 id="uninstall">Uninstall</h2>
<p>To uninstall CloudWatch ContainerInsights enter the following command.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">curl https://raw.githubusercontent.com/aws-samples/amazon-cloudwatch-container-insights/latest/k8s-deployment-manifest-templates/deployment-mode/daemonset/container-insights-monitoring/quickstart/cwagent-fluent-bit-quickstart.yaml | sed &#39;s/{{cluster_name}}/&#39;${ClusterName}&#39;/;s/{{region_name}}/&#39;${LogRegion}&#39;/;s/{{http_server_toggle}}/&#34;&#39;${FluentBitHttpServer}&#39;&#34;/;s/{{http_server_port}}/&#34;&#39;${FluentBitHttpPort}&#39;&#34;/;s/{{read_from_head}}/&#34;&#39;${FluentBitReadFromHead}&#39;&#34;/;s/{{read_from_tail}}/&#34;&#39;${FluentBitReadFromTail}&#39;&#34;/&#39; | kubectl delete -f -
</code></pre></div><h2 id="additional-information">Additional Information</h2>
<p>Full documentation and additional configuration options are available through EKS <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Container-Insights-setup-EKS-quickstart.html">documentation</a></p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="card mt-4 col-12 col-sm-6">
  <div class="card-body">
    <h3 class="card-title">Feedback</h3>
    <p class="card-text">Was this page helpful?</p>
    <button class="btn btn-primary feedback--answer feedback--answer-yes" style="width: 5rem;">Yes</button>
    <button class="btn btn-primary feedback--answer feedback--answer-no" style="width: 5rem;">No</button>
    <p class="feedback--response feedback--response-yes">
      Glad to hear it! Please <a href="https://github.com/awslabs/kubeflow-manifests/issues/new?assignees=&labels=documentation&template=documentation-request.md&title=">tell us how we can improve</a>.
    </p>
    <p class="feedback--response feedback--response-no">
      Sorry to hear that. Please <a href="https://github.com/awslabs/kubeflow-manifests/issues/new?assignees=&labels=documentation&template=documentation-request.md&title=">tell us how we can improve</a>.
    </p>
  </div>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">
  Last modified April 19, 2022: <a href="https://github.com/awslabs/kubeflow-manifests/docs/commit/cf54c93b4cfbf5c376b65f450f695077711deb84">Added Profiles component guide (cf54c93)</a>
</div>

</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark pt-3 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
      </div>
      <div class="col text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 The Kubeflow on AWS Authors.</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>


















<script src="/js/main.min.630faeed9abb9fd07c67681cb98128bbcde59398a65eacf9e96dc1fa4461ddc2.js" integrity="sha256-Yw&#43;u7Zq7n9B8Z2gcuYEou83lk5imXqz56W3B&#43;kRh3cI=" crossorigin="anonymous"></script>




  </body>
</html>